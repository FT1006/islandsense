# config.yaml - IslandSense MVP (7-day early warning design)

project:
  name: "IslandSense MVP"
  horizon_days: 7          # how far ahead the demo looks (calendar days)

data:
  sailings_file: "sailings.csv"
  status_file: "status.csv"
  metocean_file: "metocean.csv"
  tides_file: "tides.csv"
  exposure_file: "exposure_by_sailing.csv"   # optional; can be synthetic

label:
  disruption_delay_minutes: 120              # delay > 120 min treated as disruption

categories:
  fresh:
    label: "Fresh food"
    exposure_unit_label: "pallets"
  fuel:
    label: "Fuel"
    exposure_unit_label: "trailer-equivalents"

jdi:
  categories:
    fresh:
      expected_loss_min: 0.0
      expected_loss_max: 100.0
    fuel:
      expected_loss_min: 0.0
      expected_loss_max: 100.0
  bands:
    green:
      label: "Green"
      range: [0, 39]
    amber:
      label: "Amber"
      range: [40, 69]
    red:
      label: "Red"
      range: [70, 100]

scenarios:
  - id: "scenario_A"
    name: "Bring forward 10%"
    alpha:
      fresh: 0.20      # 20% effective reduction in E_loss for Fresh
      fuel: 0.15
  - id: "scenario_B"
    name: "Bring forward 10% + air-lift 5%"
    alpha:
      fresh: 0.30
      fuel: 0.25

scenario_selection:
  recommended_id: "scenario_A"   # MVP: always recommend A, show B as alternative
  auto_select: false             # no automatic Î”-threshold logic in MVP

impact:
  k_hours_per_unit: 0.25         # each shifted Fresh unit avoids ~0.25h of shelf-gap
  units_per_trailer: 24          # 1 "trailer-equivalent" = 24 units

model:
  type: "xgboost"
  random_seed: 42
  test_size_fraction: 0.2
  training:
    max_depth: 3
    learning_rate: 0.05
    n_estimators: 100
    scale_pos_weight: 29.0
    # Monotonic constraints: [WOTDI, BSEF, gust_max_3h, tide_gate_margin, prior_24h_delay, day_of_week, month]
    monotone_constraints: [1, 1, 1, -1, 1, 0, 0]

ui:
  default_view_label: "7-day risk"
  show_what_if_sliders: false    # sliders are gone in the 7-day design
  show_download_brief: true
